{% extends "base.html" %}
{% block content %}

<div class="container mt-5" style="max-width:520px;">
    <h2 class="mb-4 text-center">{{ event.title }}</h2>

    <div class="card shadow p-4">

        <div style="text-align:center; margin-bottom:16px;">
            <img src="/static/uploads/{{ event.category }}.png"
                 onerror="this.src='/static/uploads/default.png'"
                 style="
                    width:100%;
                    max-width:320px;
                    height:180px;
                    object-fit:cover;
                    border-radius:10px;
                 ">
        </div>

        <p><strong>Date:</strong> {{ event.date }}</p>
        <p><strong>Time:</strong> {{ event.time }}</p>
        <p><strong>Location:</strong> {{ event.location }}</p>
        <p><strong>Price:</strong> Rs {{ event.price }} per ticket</p>
        <p><strong>Available Seats:</strong> {{ event.available_seats }}</p>

        <hr>

        <h4>Book Tickets</h4>
        <form action="/book-ticket" method="POST">
            <input type="hidden" name="event_id" value="{{ event._id }}">

            <label>Your Name</label>
            <input type="text" name="user_name" required>

            <label>Your Email</label>
            <input type="email" name="user_email" required>

            <label>Number of Tickets</label>
            <input type="number" name="seats"
                   min="1"
                   max="{{ event.available_seats }}"
                   required>

            <button class="btn w-100" style="margin-top:12px;">Book Now</button>
        </form>
    </div>
</div>

{% endblock %}
